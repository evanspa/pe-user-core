<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pe-user-core.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pe-user-core 0.1.37 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pe-user-core</span></div></div></li><li class="depth-2 branch current"><a href="pe-user-core.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="pe-user-core.ddl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ddl</span></div></a></li><li class="depth-2"><a href="pe-user-core.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="pe-user-core.core.html#var-*smtp-server-host*"><div class="inner"><span>*smtp-server-host*</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-authtoken"><div class="inner"><span>authenticate-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-password"><div class="inner"><span>authenticate-user-by-password</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-check-account-deleted"><div class="inner"><span>check-account-deleted</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-check-account-suspended"><div class="inner"><span>check-account-suspended</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-create-and-save-auth-token"><div class="inner"><span>create-and-save-auth-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-create-and-save-password-reset-token"><div class="inner"><span>create-and-save-password-reset-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-create-and-save-verification-token"><div class="inner"><span>create-and-save-verification-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-deluseracctrsn-testing"><div class="inner"><span>deluseracctrsn-testing</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-deluseracctrsn-userinitiated"><div class="inner"><span>deluseracctrsn-userinitiated</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-flag-verification-token"><div class="inner"><span>flag-verification-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-get-schema-version"><div class="inner"><span>get-schema-version</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-all-tokens"><div class="inner"><span>invalidate-all-tokens</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-user-token"><div class="inner"><span>invalidate-user-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-user-tokens"><div class="inner"><span>invalidate-user-tokens</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-account-closed"><div class="inner"><span>invalrsn-account-closed</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-account-flagged-from-verification-email"><div class="inner"><span>invalrsn-account-flagged-from-verification-email</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-account-suspended"><div class="inner"><span>invalrsn-account-suspended</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-admin-individual"><div class="inner"><span>invalrsn-admin-individual</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-admin-mass-comp-event"><div class="inner"><span>invalrsn-admin-mass-comp-event</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-logout"><div class="inner"><span>invalrsn-logout</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-password-reset"><div class="inner"><span>invalrsn-password-reset</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-testing"><div class="inner"><span>invalrsn-testing</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-authtoken-by-plaintext-token"><div class="inner"><span>load-authtoken-by-plaintext-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-authtokens-by-user-id"><div class="inner"><span>load-authtokens-by-user-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-password-reset-token-by-plaintext-token"><div class="inner"><span>load-password-reset-token-by-plaintext-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-password-reset-tokens-by-user-id"><div class="inner"><span>load-password-reset-tokens-by-user-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-authtoken"><div class="inner"><span>load-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-col"><div class="inner"><span>load-user-by-col</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-email"><div class="inner"><span>load-user-by-email</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-id"><div class="inner"><span>load-user-by-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-id-if-modified-since"><div class="inner"><span>load-user-by-id-if-modified-since</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-password-reset-token"><div class="inner"><span>load-user-by-password-reset-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-username"><div class="inner"><span>load-user-by-username</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-verification-token"><div class="inner"><span>load-user-by-verification-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-verification-token-by-plaintext-token"><div class="inner"><span>load-verification-token-by-plaintext-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-verification-tokens-by-user-id"><div class="inner"><span>load-verification-tokens-by-user-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-loginfailrsn-account-deleted"><div class="inner"><span>loginfailrsn-account-deleted</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-loginfailrsn-account-suspended"><div class="inner"><span>loginfailrsn-account-suspended</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-logout-user-token"><div class="inner"><span>logout-user-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-mark-user-as-deleted"><div class="inner"><span>mark-user-as-deleted</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-auth-token-id"><div class="inner"><span>next-auth-token-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-password-reset-token-id"><div class="inner"><span>next-password-reset-token-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-user-account-id"><div class="inner"><span>next-user-account-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-verification-token-id"><div class="inner"><span>next-verification-token-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-prepare-password-reset"><div class="inner"><span>prepare-password-reset</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-reset-password"><div class="inner"><span>reset-password</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-rs-.3Euser"><div class="inner"><span>rs-&gt;user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-new-user"><div class="inner"><span>save-new-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-user"><div class="inner"><span>save-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-send-password-reset-notice"><div class="inner"><span>send-password-reset-notice</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-send-verification-notice"><div class="inner"><span>send-verification-notice</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-set-schema-version"><div class="inner"><span>set-schema-version</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-suspend-user"><div class="inner"><span>suspend-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-sususeracctrsn-flagged-from-verification-email"><div class="inner"><span>sususeracctrsn-flagged-from-verification-email</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-sususeracctrsn-nonpayment"><div class="inner"><span>sususeracctrsn-nonpayment</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-sususeracctrsn-testing"><div class="inner"><span>sususeracctrsn-testing</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-undelete-user"><div class="inner"><span>undelete-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-unsuspend-user"><div class="inner"><span>unsuspend-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-user-key-pairs"><div class="inner"><span>user-key-pairs</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-user-uniq-constraints"><div class="inner"><span>user-uniq-constraints</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-users"><div class="inner"><span>users</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-verify-user"><div class="inner"><span>verify-user</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">pe-user-core.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*smtp-server-host*"><h3>*smtp-server-host*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L25">view source</a></div></div><div class="public anchor" id="var-authenticate-user-by-authtoken"><h3>authenticate-user-by-authtoken</h3><div class="usage"><code>(authenticate-user-by-authtoken db-spec user-id plaintext-authtoken)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L534">view source</a></div></div><div class="public anchor" id="var-authenticate-user-by-password"><h3>authenticate-user-by-password</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Authenticates a user given an email address (or username) and password.  Upon
a successful authentication, returns the associated user entity; otherwise
returns nil.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L543">view source</a></div></div><div class="public anchor" id="var-check-account-deleted"><h3>check-account-deleted</h3><div class="usage"><code>(check-account-deleted user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L528">view source</a></div></div><div class="public anchor" id="var-check-account-suspended"><h3>check-account-suspended</h3><div class="usage"><code>(check-account-suspended user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L522">view source</a></div></div><div class="public anchor" id="var-create-and-save-auth-token"><h3>create-and-save-auth-token</h3><div class="usage"><code>(create-and-save-auth-token db-spec user-id new-id)</code><code>(create-and-save-auth-token db-spec user-id new-id exp-date)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L471">view source</a></div></div><div class="public anchor" id="var-create-and-save-password-reset-token"><h3>create-and-save-password-reset-token</h3><div class="usage"><code>(create-and-save-password-reset-token db-spec user-id email-address)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L505">view source</a></div></div><div class="public anchor" id="var-create-and-save-verification-token"><h3>create-and-save-verification-token</h3><div class="usage"><code>(create-and-save-verification-token db-spec user-id email-address)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L488">view source</a></div></div><div class="public anchor" id="var-deluseracctrsn-testing"><h3>deluseracctrsn-testing</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L657">view source</a></div></div><div class="public anchor" id="var-deluseracctrsn-userinitiated"><h3>deluseracctrsn-userinitiated</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L656">view source</a></div></div><div class="public anchor" id="var-flag-verification-token"><h3>flag-verification-token</h3><div class="usage"><code>(flag-verification-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L614">view source</a></div></div><div class="public anchor" id="var-get-schema-version"><h3>get-schema-version</h3><div class="usage"><code>(get-schema-version db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L65">view source</a></div></div><div class="public anchor" id="var-invalidate-all-tokens"><h3>invalidate-all-tokens</h3><div class="usage"><code>(invalidate-all-tokens db-spec reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L292">view source</a></div></div><div class="public anchor" id="var-invalidate-user-token"><h3>invalidate-user-token</h3><div class="usage"><code>(invalidate-user-token db-spec user-id plaintext-token reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L272">view source</a></div></div><div class="public anchor" id="var-invalidate-user-tokens"><h3>invalidate-user-tokens</h3><div class="usage"><code>(invalidate-user-tokens db-spec user-id reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L284">view source</a></div></div><div class="public anchor" id="var-invalrsn-account-closed"><h3>invalrsn-account-closed</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L211">view source</a></div></div><div class="public anchor" id="var-invalrsn-account-flagged-from-verification-email"><h3>invalrsn-account-flagged-from-verification-email</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L216">view source</a></div></div><div class="public anchor" id="var-invalrsn-account-suspended"><h3>invalrsn-account-suspended</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L212">view source</a></div></div><div class="public anchor" id="var-invalrsn-admin-individual"><h3>invalrsn-admin-individual</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L213">view source</a></div></div><div class="public anchor" id="var-invalrsn-admin-mass-comp-event"><h3>invalrsn-admin-mass-comp-event</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L214">view source</a></div></div><div class="public anchor" id="var-invalrsn-logout"><h3>invalrsn-logout</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L210">view source</a></div></div><div class="public anchor" id="var-invalrsn-password-reset"><h3>invalrsn-password-reset</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L217">view source</a></div></div><div class="public anchor" id="var-invalrsn-testing"><h3>invalrsn-testing</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L215">view source</a></div></div><div class="public anchor" id="var-load-authtoken-by-plaintext-token"><h3>load-authtoken-by-plaintext-token</h3><div class="usage"><code>(load-authtoken-by-plaintext-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L257">view source</a></div></div><div class="public anchor" id="var-load-authtokens-by-user-id"><h3>load-authtokens-by-user-id</h3><div class="usage"><code>(load-authtokens-by-user-id db-spec user-id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L237">view source</a></div></div><div class="public anchor" id="var-load-password-reset-token-by-plaintext-token"><h3>load-password-reset-token-by-plaintext-token</h3><div class="usage"><code>(load-password-reset-token-by-plaintext-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L267">view source</a></div></div><div class="public anchor" id="var-load-password-reset-tokens-by-user-id"><h3>load-password-reset-tokens-by-user-id</h3><div class="usage"><code>(load-password-reset-tokens-by-user-id db-spec user-id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L250">view source</a></div></div><div class="public anchor" id="var-load-user-by-authtoken"><h3>load-user-by-authtoken</h3><div class="usage"><code>(load-user-by-authtoken db-spec user-id plaintext-authtoken)</code><code>(load-user-by-authtoken db-spec user-id plaintext-authtoken active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given an authentication token.  Returns
nil if no associated user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L129">view source</a></div></div><div class="public anchor" id="var-load-user-by-col"><h3>load-user-by-col</h3><div class="usage"><code>(load-user-by-col db-spec col col-val active-only)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L79">view source</a></div></div><div class="public anchor" id="var-load-user-by-email"><h3>load-user-by-email</h3><div class="usage"><code>(load-user-by-email db-spec email)</code><code>(load-user-by-email db-spec email active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s email address.  Returns
nil if no user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L105">view source</a></div></div><div class="public anchor" id="var-load-user-by-id"><h3>load-user-by-id</h3><div class="usage"><code>(load-user-by-id db-spec id)</code><code>(load-user-by-id db-spec id active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s id.  Returns nil if no user
is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L121">view source</a></div></div><div class="public anchor" id="var-load-user-by-id-if-modified-since"><h3>load-user-by-id-if-modified-since</h3><div class="usage"><code>(load-user-by-id-if-modified-since db-spec user-id modified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L86">view source</a></div></div><div class="public anchor" id="var-load-user-by-password-reset-token"><h3>load-user-by-password-reset-token</h3><div class="usage"><code>(load-user-by-password-reset-token db-spec email plaintext-password-reset-token)</code><code>(load-user-by-password-reset-token db-spec email plaintext-password-reset-token active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given a password reset token.  Returns
nil if no associated user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L172">view source</a></div></div><div class="public anchor" id="var-load-user-by-username"><h3>load-user-by-username</h3><div class="usage"><code>(load-user-by-username db-spec username)</code><code>(load-user-by-username db-spec username active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s username.  Returns nil if no
user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L113">view source</a></div></div><div class="public anchor" id="var-load-user-by-verification-token"><h3>load-user-by-verification-token</h3><div class="usage"><code>(load-user-by-verification-token db-spec email plaintext-verification-token)</code><code>(load-user-by-verification-token db-spec email plaintext-verification-token active-only)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given an verification token.  Returns
nil if no associated user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L150">view source</a></div></div><div class="public anchor" id="var-load-verification-token-by-plaintext-token"><h3>load-verification-token-by-plaintext-token</h3><div class="usage"><code>(load-verification-token-by-plaintext-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L262">view source</a></div></div><div class="public anchor" id="var-load-verification-tokens-by-user-id"><h3>load-verification-tokens-by-user-id</h3><div class="usage"><code>(load-verification-tokens-by-user-id db-spec user-id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L243">view source</a></div></div><div class="public anchor" id="var-loginfailrsn-account-deleted"><h3>loginfailrsn-account-deleted</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L219">view source</a></div></div><div class="public anchor" id="var-loginfailrsn-account-suspended"><h3>loginfailrsn-account-suspended</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L220">view source</a></div></div><div class="public anchor" id="var-logout-user-token"><h3>logout-user-token</h3><div class="usage"><code>(logout-user-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L300">view source</a></div></div><div class="public anchor" id="var-mark-user-as-deleted"><h3>mark-user-as-deleted</h3><div class="usage"><code>(mark-user-as-deleted db-spec user-id reason if-unmodified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L630">view source</a></div></div><div class="public anchor" id="var-next-auth-token-id"><h3>next-auth-token-id</h3><div class="usage"><code>(next-auth-token-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L34">view source</a></div></div><div class="public anchor" id="var-next-password-reset-token-id"><h3>next-password-reset-token-id</h3><div class="usage"><code>(next-password-reset-token-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L42">view source</a></div></div><div class="public anchor" id="var-next-user-account-id"><h3>next-user-account-id</h3><div class="usage"><code>(next-user-account-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L30">view source</a></div></div><div class="public anchor" id="var-next-verification-token-id"><h3>next-verification-token-id</h3><div class="usage"><code>(next-verification-token-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L38">view source</a></div></div><div class="public anchor" id="var-prepare-password-reset"><h3>prepare-password-reset</h3><div class="usage"><code>(prepare-password-reset db-spec email plaintext-password-reset-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L421">view source</a></div></div><div class="public anchor" id="var-reset-password"><h3>reset-password</h3><div class="usage"><code>(reset-password db-spec email plaintext-password-reset-token new-password)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L443">view source</a></div></div><div class="public anchor" id="var-rs-.3Euser"><h3>rs-&gt;user</h3><div class="usage"><code>(rs-&gt;user user-rs)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L46">view source</a></div></div><div class="public anchor" id="var-save-new-user"><h3>save-new-user</h3><div class="usage"><code>(save-new-user db-spec new-id user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L304">view source</a></div></div><div class="public anchor" id="var-save-user"><h3>save-user</h3><div class="usage"><code>(save-user db-spec id user)</code><code>(save-user db-spec id auth-token-id user)</code><code>(save-user db-spec id auth-token-id user if-unmodified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L375">view source</a></div></div><div class="public anchor" id="var-send-password-reset-notice"><h3>send-password-reset-notice</h3><div class="usage"><code>(send-password-reset-notice db-spec email mustache-template subject-line from password-reset-url-maker-fn password-reset-flagged-url-maker-fn)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L349">view source</a></div></div><div class="public anchor" id="var-send-verification-notice"><h3>send-verification-notice</h3><div class="usage"><code>(send-verification-notice db-spec user-id mustache-template subject-line from verification-url-maker-fn verification-flagged-url-maker-fn)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L320">view source</a></div></div><div class="public anchor" id="var-set-schema-version"><h3>set-schema-version</h3><div class="usage"><code>(set-schema-version db-spec schema-version)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L73">view source</a></div></div><div class="public anchor" id="var-suspend-user"><h3>suspend-user</h3><div class="usage"><code>(suspend-user db-spec user-id reason if-unmodified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L578">view source</a></div></div><div class="public anchor" id="var-sususeracctrsn-flagged-from-verification-email"><h3>sususeracctrsn-flagged-from-verification-email</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L609">view source</a></div></div><div class="public anchor" id="var-sususeracctrsn-nonpayment"><h3>sususeracctrsn-nonpayment</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L607">view source</a></div></div><div class="public anchor" id="var-sususeracctrsn-testing"><h3>sususeracctrsn-testing</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L608">view source</a></div></div><div class="public anchor" id="var-undelete-user"><h3>undelete-user</h3><div class="usage"><code>(undelete-user db-spec user-id if-unmodified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L643">view source</a></div></div><div class="public anchor" id="var-unsuspend-user"><h3>unsuspend-user</h3><div class="usage"><code>(unsuspend-user db-spec user-id if-unmodified-since)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L594">view source</a></div></div><div class="public anchor" id="var-user-key-pairs"><h3>user-key-pairs</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L222">view source</a></div></div><div class="public anchor" id="var-user-uniq-constraints"><h3>user-uniq-constraints</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L233">view source</a></div></div><div class="public anchor" id="var-users"><h3>users</h3><div class="usage"><code>(users db-spec)</code><code>(users db-spec active-only)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L194">view source</a></div></div><div class="public anchor" id="var-verify-user"><h3>verify-user</h3><div class="usage"><code>(verify-user db-spec email plaintext-verification-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.37/src/pe_user_core/core.clj#L394">view source</a></div></div></div></body></html>