<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pe-user-core.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pe-user-core 0.0.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pe-user-core</span></div></div></li><li class="depth-2 branch current"><a href="pe-user-core.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="pe-user-core.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-authtoken"><div class="inner"><span>authenticate-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-password"><div class="inner"><span>authenticate-user-by-password</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-create-and-save-auth-token-txnmap"><div class="inner"><span>create-and-save-auth-token-txnmap</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-entity-for-user-by-id"><div class="inner"><span>entity-for-user-by-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-get-all-users"><div class="inner"><span>get-all-users</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-is-auth-valid.3F"><div class="inner"><span>is-auth-valid?</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-authtoken"><div class="inner"><span>load-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-email"><div class="inner"><span>load-user-by-email</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-username"><div class="inner"><span>load-user-by-username</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-new-user-txnmap"><div class="inner"><span>save-new-user-txnmap</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-user-txnmap"><div class="inner"><span>save-user-txnmap</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">pe-user-core.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-authenticate-user-by-authtoken"><h3>authenticate-user-by-authtoken</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L130">view source</a></div></div><div class="public anchor" id="var-authenticate-user-by-password"><h3>authenticate-user-by-password</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Authenticates a user given an email address (or username) and password.  Upon
a successful authentication, returns the associated user entity; otherwise
returns nil.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L132">view source</a></div></div><div class="public anchor" id="var-create-and-save-auth-token-txnmap"><h3>create-and-save-auth-token-txnmap</h3><div class="usage"><code>(create-and-save-auth-token-txnmap partition u-entid expiration-date)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L152">view source</a></div></div><div class="public anchor" id="var-entity-for-user-by-id"><h3>entity-for-user-by-id</h3><div class="usage"><code>(entity-for-user-by-id conn user-entid entity-entid user-attr)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L8">view source</a></div></div><div class="public anchor" id="var-get-all-users"><h3>get-all-users</h3><div class="usage"><code>(get-all-users conn)</code></div><div class="doc"><pre class="plaintext">Given a database connection, returns the set of all users in the system as a
set of user entities.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L118">view source</a></div></div><div class="public anchor" id="var-is-auth-valid.3F"><h3>is-auth-valid?</h3><div class="usage"><code>(is-auth-valid? auth-ent plaintext-authtoken)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L88">view source</a></div></div><div class="public anchor" id="var-load-user-by-authtoken"><h3>load-user-by-authtoken</h3><div class="usage"><code>(load-user-by-authtoken conn user-entid plaintext-authtoken)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given an authentication token.  Returns
nil if no associated user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L98">view source</a></div></div><div class="public anchor" id="var-load-user-by-email"><h3>load-user-by-email</h3><div class="usage"><code>(load-user-by-email conn email)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s email address.  Returns
nil if no user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L68">view source</a></div></div><div class="public anchor" id="var-load-user-by-username"><h3>load-user-by-username</h3><div class="usage"><code>(load-user-by-username conn username)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s username.  Returns
nil if no user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L78">view source</a></div></div><div class="public anchor" id="var-save-new-user-txnmap"><h3>save-new-user-txnmap</h3><div class="usage"><code>(save-new-user-txnmap partition user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L42">view source</a></div></div><div class="public anchor" id="var-save-user-txnmap"><h3>save-user-txnmap</h3><div class="usage"><code>(save-user-txnmap user-entid user)</code></div><div class="doc"><pre class="plaintext">Returns new user entity map suitable for inclusion in a datomic transaction.
The map parameter is expected to have the following keys:
:user/name - the user&apos;s first and last name (optional)
:user/email - the user&apos;s email address (optional/required)
:user/username - a username for the user (optional/required)
:user/password - a password for the user (optional).
A username or an email must be supplied (or both).  &apos;conn&apos; is a database
connection.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.0.1/src/pe_user_core/core.clj#L23">view source</a></div></div></div></body></html>