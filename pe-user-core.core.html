<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>pe-user-core.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pe-user-core 0.1.10 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pe-user-core</span></div></div></li><li class="depth-2 branch current"><a href="pe-user-core.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="pe-user-core.ddl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ddl</span></div></a></li><li class="depth-2"><a href="pe-user-core.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-authtoken"><div class="inner"><span>authenticate-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-authenticate-user-by-password"><div class="inner"><span>authenticate-user-by-password</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-create-and-save-auth-token"><div class="inner"><span>create-and-save-auth-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-get-schema-version"><div class="inner"><span>get-schema-version</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-all-tokens"><div class="inner"><span>invalidate-all-tokens</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-user-token"><div class="inner"><span>invalidate-user-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalidate-user-tokens"><div class="inner"><span>invalidate-user-tokens</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-account-closed"><div class="inner"><span>invalrsn-account-closed</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-account-suspended"><div class="inner"><span>invalrsn-account-suspended</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-admin-individual"><div class="inner"><span>invalrsn-admin-individual</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-admin-mass-comp-event"><div class="inner"><span>invalrsn-admin-mass-comp-event</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-invalrsn-logout"><div class="inner"><span>invalrsn-logout</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-authtoken-by-plaintext-token"><div class="inner"><span>load-authtoken-by-plaintext-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-authtokens-by-user-id"><div class="inner"><span>load-authtokens-by-user-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-authtoken"><div class="inner"><span>load-user-by-authtoken</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-email"><div class="inner"><span>load-user-by-email</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-id"><div class="inner"><span>load-user-by-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-load-user-by-username"><div class="inner"><span>load-user-by-username</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-logout-user-token"><div class="inner"><span>logout-user-token</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-auth-token-id"><div class="inner"><span>next-auth-token-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-next-user-account-id"><div class="inner"><span>next-user-account-id</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-rs-.3Euser"><div class="inner"><span>rs-&gt;user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-new-user"><div class="inner"><span>save-new-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-save-user"><div class="inner"><span>save-user</span></div></a></li><li class="depth-1"><a href="pe-user-core.core.html#var-set-schema-version"><div class="inner"><span>set-schema-version</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">pe-user-core.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-authenticate-user-by-authtoken"><h3>authenticate-user-by-authtoken</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L231">view source</a></div></div><div class="public anchor" id="var-authenticate-user-by-password"><h3>authenticate-user-by-password</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Authenticates a user given an email address (or username) and password.  Upon
a successful authentication, returns the associated user entity; otherwise
returns nil.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L233">view source</a></div></div><div class="public anchor" id="var-create-and-save-auth-token"><h3>create-and-save-auth-token</h3><div class="usage"><code>(create-and-save-auth-token db-spec user-id new-id)</code><code>(create-and-save-auth-token db-spec user-id new-id exp-date)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L172">view source</a></div></div><div class="public anchor" id="var-get-schema-version"><h3>get-schema-version</h3><div class="usage"><code>(get-schema-version db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L39">view source</a></div></div><div class="public anchor" id="var-invalidate-all-tokens"><h3>invalidate-all-tokens</h3><div class="usage"><code>(invalidate-all-tokens db-spec reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L220">view source</a></div></div><div class="public anchor" id="var-invalidate-user-token"><h3>invalidate-user-token</h3><div class="usage"><code>(invalidate-user-token db-spec user-id plaintext-token reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L200">view source</a></div></div><div class="public anchor" id="var-invalidate-user-tokens"><h3>invalidate-user-tokens</h3><div class="usage"><code>(invalidate-user-tokens db-spec user-id reason)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L212">view source</a></div></div><div class="public anchor" id="var-invalrsn-account-closed"><h3>invalrsn-account-closed</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L167">view source</a></div></div><div class="public anchor" id="var-invalrsn-account-suspended"><h3>invalrsn-account-suspended</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L168">view source</a></div></div><div class="public anchor" id="var-invalrsn-admin-individual"><h3>invalrsn-admin-individual</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L169">view source</a></div></div><div class="public anchor" id="var-invalrsn-admin-mass-comp-event"><h3>invalrsn-admin-mass-comp-event</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L170">view source</a></div></div><div class="public anchor" id="var-invalrsn-logout"><h3>invalrsn-logout</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L166">view source</a></div></div><div class="public anchor" id="var-load-authtoken-by-plaintext-token"><h3>load-authtoken-by-plaintext-token</h3><div class="usage"><code>(load-authtoken-by-plaintext-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L195">view source</a></div></div><div class="public anchor" id="var-load-authtokens-by-user-id"><h3>load-authtokens-by-user-id</h3><div class="usage"><code>(load-authtokens-by-user-id db-spec user-id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L189">view source</a></div></div><div class="public anchor" id="var-load-user-by-authtoken"><h3>load-user-by-authtoken</h3><div class="usage"><code>(load-user-by-authtoken db-spec user-id plaintext-authtoken)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given an authentication token.  Returns
nil if no associated user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L143">view source</a></div></div><div class="public anchor" id="var-load-user-by-email"><h3>load-user-by-email</h3><div class="usage"><code>(load-user-by-email db-spec email)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s email address.  Returns
nil if no user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L108">view source</a></div></div><div class="public anchor" id="var-load-user-by-id"><h3>load-user-by-id</h3><div class="usage"><code>(load-user-by-id db-spec id)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s id.  Returns nil if no user
is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L132">view source</a></div></div><div class="public anchor" id="var-load-user-by-username"><h3>load-user-by-username</h3><div class="usage"><code>(load-user-by-username db-spec username)</code></div><div class="doc"><pre class="plaintext">Loads and returns a user entity given the user&apos;s username.  Returns nil if no
user is found.</pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L120">view source</a></div></div><div class="public anchor" id="var-logout-user-token"><h3>logout-user-token</h3><div class="usage"><code>(logout-user-token db-spec user-id plaintext-token)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L227">view source</a></div></div><div class="public anchor" id="var-next-auth-token-id"><h3>next-auth-token-id</h3><div class="usage"><code>(next-auth-token-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L20">view source</a></div></div><div class="public anchor" id="var-next-user-account-id"><h3>next-user-account-id</h3><div class="usage"><code>(next-user-account-id db-spec)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L16">view source</a></div></div><div class="public anchor" id="var-rs-.3Euser"><h3>rs-&gt;user</h3><div class="usage"><code>(rs-&gt;user user-rs)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L24">view source</a></div></div><div class="public anchor" id="var-save-new-user"><h3>save-new-user</h3><div class="usage"><code>(save-new-user db-spec new-id user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L57">view source</a></div></div><div class="public anchor" id="var-save-user"><h3>save-user</h3><div class="usage"><code>(save-user db-spec id user)</code><code>(save-user db-spec id auth-token-id user)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L89">view source</a></div></div><div class="public anchor" id="var-set-schema-version"><h3>set-schema-version</h3><div class="usage"><code>(set-schema-version db-spec schema-version)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/evanspa/pe-user-core/blob/0.1.10/src/pe_user_core/core.clj#L47">view source</a></div></div></div></body></html>